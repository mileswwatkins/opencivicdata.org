<input type="hidden" class="bigdrop" name="{{name}}" id="{{name}}" style="width:600px" />

<script>
$(document).ready(function() {
    function jurisdictionFormatResult(data) {
        return data.name + " (" + data.id + ")";
    }

    function jurisdictionFormatSelection(data) {
        return data.id;
    }

    $("#{{name}}").select2({
        placeholder: "Search for a jurisdiction",
        quietMillis: 100,
        minimumInputLength: 3,
        ajax: {
            url: "http://localhost:8080/jurisdictions/",
            dataType: 'jsonp',
            data: function (term, page) {
                return {
                    name: term,
                };
            },
            results: function (data, page) {
            console.log(data);
                return {
                    results: data.results
                };
            }
        },
        formatResult: jurisdictionFormatResult,
        formatSelection: jurisdictionFormatSelection,
        dropdownCssClass: "bigdrop",
        escapeMarkup: function (m) { return m; },
    });
});
</script>
